<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.p2g.mybatis.dao.sys.LianBankExpandMapper">
	<resultMap id="BaseResultMap" type="com.p2g.mybatis.model.generator.LianBank">
		<!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
		<id column="lian_bank_code" jdbcType="VARCHAR" property="lianBankCode" />
		<result column="bank_name" jdbcType="VARCHAR" property="bankName" />
		<result column="need_brabank" jdbcType="VARCHAR" property="needBrabank" />
		<result column="invest_flag" jdbcType="VARCHAR" property="investFlag" />
		<result column="withdraw_flag" jdbcType="VARCHAR" property="withdrawFlag" />
		<result column="single_amt" jdbcType="INTEGER" property="singleAmt" />
		<result column="day_amt" jdbcType="INTEGER" property="dayAmt" />
		<result column="month_amt" jdbcType="INTEGER" property="monthAmt" />
		<result column="lian_status" jdbcType="VARCHAR" property="lianStatus" />
		<result column="status" jdbcType="VARCHAR" property="status" />
		<result column="update_time" jdbcType="TIMESTAMP" property="updateTime" />
		<result column="bank_logo" jdbcType="VARCHAR" property="bankLogo" />
		<result column="seq_num" jdbcType="INTEGER" property="seqNum" />
	</resultMap>
	<select id="query" parameterType="java.util.Map" resultType="java.lang.String">
		select lian_bank_code from lian_bank where 1=1
		<if test="bankName != null and bankName != ''">
			and bank_name like CONCAT('%',#{bankName},'%')
		</if>
		<if test="lianStatus != null and lianStatus != ''">
			and lian_status = #{lianStatus}
		</if>
		<if test="needBrabank != null and needBrabank != ''">
			and need_brabank = #{needBrabank}
		</if>
		<if test="investFlag != null and investFlag != ''">
			and invest_flag = #{investFlag}
		</if>
		<if test="withdrawFlag != null and withdrawFlag != ''">
			and withdraw_flag = #{withdrawFlag}
		</if>
		
	</select>

	<select id="queryNeedBanks" resultMap="BaseResultMap">
		select lian_bank_code, bank_name, need_brabank, invest_flag, withdraw_flag, single_amt,
		day_amt, month_amt, lian_status, status, update_time, bank_logo
		from lian_bank
		WHERE invest_flag='yes'
		AND status='enabled'
		AND lian_status='0'
		order by seq_num
	</select>
</mapper>